{% extends 'ecom/customer_base.html' %}
{% load static %}
{% block content %} 

<style media="screen">
    body,
    html {
        height: 100%;
    }

    .d-flex {
        display: flex;
    }

    .align-center {
        align-items: center;
    }

    .flex-centerY-centerX {
        justify-content: center;
        align-items: center;
    }

    body, html {
        height: 100%;
        margin: 0;
        background-image: url("{% static 'images/new.jpg' %}");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }

    .page-wrapper {
        height: 100%;
        display: table;
    }

    .page-wrapper .page-inner {
        display: table-cell;
        vertical-align: middle;
    }

    .el-wrapper {
        width: 360px;
        padding: 15px;
        margin: 15px auto;
        background-color: #fff;
        border-radius: 15px;
    }

    @media (max-width: 991px) {
        .el-wrapper {
            width: 345px;
        }
    }

    @media (max-width: 767px) {
        .el-wrapper {
            width: 290px;
            margin: 30px auto;
        }
    }

    .el-wrapper:hover .h-bg {
        left: 0px;
    }

    .el-wrapper:hover .price {
        left: 20px;
        transform: translateY(-50%);
        color: #f3f3f3;
    }

    .el-wrapper:hover .add-to-cart {
        left: 50%;
    }

    .el-wrapper:hover .img {
        filter: blur(7px);
        opacity: 0.4;
    }

    .el-wrapper:hover .info-inner {
        bottom: 155px;
    }

    .el-wrapper:hover .a-size {
        transition-delay: 300ms;
        bottom: 50px;
        opacity: 1;
    }

    .el-wrapper .box-down {
        width: 100%;
        height: 60px;
        position: relative;
        overflow: hidden;
    }

    .el-wrapper .box-up {
        width: 100%;
        height: 300px;
        position: relative;
        overflow: hidden;
        text-align: center;
    }

    .el-wrapper .img {
        padding: 20px 0;
        transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
    }

    .h-bg {
        transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
        width: 660px;
        height: 100%;
        background-color: #3fcd7f;
        position: absolute;
        left: -659px;
    }

    .h-bg .h-bg-inner {
        width: 50%;
        height: 100%;
        background-color: #464646;
    }

    .info-inner {
        transition: all 400ms cubic-bezier(0, 0, 0.18, 1);
        position: absolute;
        width: 100%;
        bottom: 10px;
    }

    .info-inner .p-name,
    .info-inner .p-company {
        display: block;
    }

    .info-inner .p-name {
        font-family: 'PT Sans', sans-serif;
        font-size: 18px;
        color: #252525;
    }

    .info-inner .p-company {
        font-family: 'Lato', sans-serif;
        font-size: 16px;
        color: #fbfbfb;
    }

    .a-size {
        transition: all 300ms cubic-bezier(0, 0, 0.18, 1);
        position: absolute;
        width: 100%;
        bottom: -20px;
        font-family: 'PT Sans', sans-serif;
        color: #2b2b2b;
        font-weight: 600;
        opacity: 0;
    }

    .cart {
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        font-weight: 700;
    }

    .cart .price {
        transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
        display: block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 16px;
        color: #252525;
    }

    .cart .add-to-cart {
        transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
        display: block;
        position: absolute;
        top: 50%;
        left: 110%;
        transform: translate(-50%, -50%);
    }

    .cart .add-to-cart .txt {
        font-size: 12px;
        color: #fff;
        letter-spacing: 0.045em;
        text-transform: uppercase;
        white-space: nowrap;
    }

    * {
        box-sizing: border-box;
    }

    /* Create three equal columns that floats next to each other */
    .column {
        float: left;
        width: 33.33%;
        padding: 10px;
        height: 300px;
    }

    /* Clear floats after the columns */
    .row:after {
        content: "";
        display: table;
        clear: both;
    }

    /* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
    @media screen and (max-width: 600px) {
        .column {
            width: 100%;
        }
    }

    img {
        max-width: 100%;
    }

    .slider-container {
        height: 50%;
        width: 100%;
        position: relative;
        overflow: hidden; 
        text-align: center;
    }

    .slide {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 100%;
        z-index: 10;
        background-size: cover;
        background-position: 50% 50%;
        transition: left .65s ease-out;
    }

    .active-slide {
        left: 0;
        z-index: 100;
    }

    .slide-1 {
        background-image: url("{% static 'images/back3.jpg' %}");
    }
    .slide-2 {
        background-image: url("{% static 'images/mithra.jpg' %}");
    }
    .slide-3 {
        background-image: url("{% static 'images/new-banner2.jpg' %}");
    }
    .slide-4 {
        background-image: url("{% static 'images/back1.jpg' %}");
    }
</style>

<div class="row">
    <div class="col-md-12">
        <div class="slider-container">
            <div class="slide slide-1 active-slide"></div>
            <div class="slide slide-2"></div>
            <div class="slide slide-3"></div>
            <div class="slide slide-4"></div>
        </div>
    </div>
</div>

{% if products %}
<h3 style="text-align:center; color:#3E454C;">{{ word }}</h3>
<br>

<!-- products data start -->
<div class="row">

    {% for p in products %}
    <!-- card1 -->
    <div class="column">
        <div class="container page-wrapper" style="width: 450px;">
            <div class="page-inner">
                <div class="row">
                    <div class="el-wrapper">
                        <div class="box-up">
                            <img class="img" src="{% static p.product_image.url %}" alt="product pic" height="300px" width="300px">
                            <div class="img-info">
                                <div class="info-inner">
                                    <span style="background-color:#3e454c; color:fbfbfb;" class="p-company">{{ p.name }}</span>
                                </div>
                                <div class="a-size">{{ p.description }}</div>
                            </div>
                        </div>

                        <div class="box-down">
                            <div class="h-bg">
                                <div class="h-bg-inner"></div>
                            </div>

                            <a class="cart" href="{% url 'add-to-cart' p.id %}">
                                <span class="price">${{ p.price }}</span>
                                <span class="add-to-cart">
                                    <span class="txt"><i class="fa fa-shopping-cart"></i> Add To Cart</span>
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- card1 end -->
    {% if forloop.counter|divisibleby:"3" %}
        </div>
        <div class="row">
            <br><br><br><br><br>
    {% endif %}
    {% endfor %}
</div>
<!-- products data end -->

{% else %}
<h3 style="text-align:center; color:#3E454C;">No Search Found</h3>
{% endif %}

<script>
    const slides = document.querySelectorAll('.slide');
    let currentSlide = 0;

    function showSlide() {
        slides[currentSlide].classList.remove('active-slide');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active-slide');
    }

    // Initial setup
    slides[currentSlide].classList.add('active-slide');
    
    // Change slide every 4 seconds
    setInterval(showSlide, 4000);
</script>

{% endblock %}
